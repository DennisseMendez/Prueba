
--DDL PARA LA DEFINICION DE LA TABLA CLIENTES
CREATE TABLE CLIENTES

(
    ID_CLIENTE NUMBER NOT NULL,
    NOMBRE VARCHAR2 (200),
    AP_PATERNO VARCHAR2(200),
    AP_MATERNO VARCHAR2(200),
    LICENCIA VARCHAR2(45),
    TELEFONO VARCHAR2(45),
    FECHA_NACIMIENTO DATE,
    CONSTRAINT CLIENTES_PK PRIMARY KEY(ID_CLIENTE)
);

CREATE TABLE AGENTES

(
    ID_CLIENTE NUMBER NOT NULL,
    NOMBRE VARCHAR2 (200),
    AP_PATERNO VARCHAR2(200),
    AP_MATERNO VARCHAR2(200),
    LICENCIA VARCHAR2(45),
    TELEFONO VARCHAR2(45),
    FECHA_NACIMIENTO DATE,
    CONSTRAINT CLIENTES_PK PRIMARY KEY(ID_CLIENTE)
);

--DDL PARA LA DEFINICION DE LA TABLA AUTOS
CREATE TABLE AUTOS

(
    ID_AUTO NUMBER NOT NULL,
    MATRICULA VARCHAR2 (45),
    TIPO_AUTO VARCHAR2(45),
    MODELO NUMBER,
    MARCA VARCHAR2(45),
    CAPACIDAD NUMBER,
    KILOMETRAJE FLOAT,
    DISPONIBILIDAD NUMBER,
    CONSTRAINT AUTOS_PK PRIMARY KEY(ID_AUTO)
);


--DDL PARA LA DEFINICION DE LA TABLA SUCURSALES
CREATE TABLE SUCURSALES
(

    ID_SUCURSAL NUMBER NOT NULL,
    CALLE VARCHAR2(45),
    NUMERO VARCHAR2(45),
    COLONIA VARCHAR2(45),
    CIUDAD VARCHAR2(45),
    ESTADO VARCHAR2(45),
    CP VARCHAR2(45),
    CONSTRAINT SUCURSALES_PK PRIMARY KEY(ID_SUCURSAL)
);


--DDL Â´PARA LA DEFINICION  DE LA TABLA CONTRATOS
CREATE TABLE CONTRATOS
(
    ID_CONTRATO NUMBER NOT NULL,
    CLIENTE_ID NUMBER NOT NULL,
    AUTO_ID NUMBER NOT NULL,
    SUCURSAL_ID NUMBER NOT NULL,
    INICIO_CONTRATO DATE,
    FIN_CONTRATO DATE,
    CONSTRAINT CONTRATOS_PK PRIMARY KEY(ID_CONTRATO),
    ---DEFINICION DE LAS LLAVES FORANEAS
    CONSTRAINT CONTRATOS_CLIENTES_FK FOREIGN KEY(CLIENTE_ID)
        REFERENCES CLIENTES(ID_CLIENTE),
    CONSTRAINT CONTRATOS_AUTOS_FK FOREIGN KEY(AUTO_ID)
        REFERENCES AUTOS(ID_AUTO),
    CONSTRAINT CONTRATOS_SUCURSALES_PK FOREIGN KEY(SUCURSAL_ID)
        REFERENCES SUCURSALES(ID_SUCURSAL)
);



--DDL PARA LA DEFINICION DE LA TABLA FACTURAS
CREATE TABLE FACTURAS
(
    ID_FACTURA NUMBER NOT NULL,
    CONTRATO_ID NUMBER NOT NULL,
    FECHA_EMISION DATE,
    MONTO FLOAT,
    CONSTRAINT FACTURAS_PK PRIMARY KEY(ID_FACTURA),
    ---DEFINICION DE LAS LLAVES FORANEAS
    CONSTRAINT FACTURAS_CONTRATOS_FK FOREIGN KEY(CONTRATO_ID)
        REFERENCES CONTRATOS(ID_CONTRATO)
);




--DDL PARA LA DEFINICION DE UNA SECUENCIA
CREATE SEQUENCE  "SECUENCIA1"
    MINVALUE 1
    MAXVALUE 9999999999999999999999999999
    INCREMENT BY 1
    START WITH 1;
    
--DDL PARA LA DEFINICION DE UNA SECUENCIA   
CREATE SEQUENCE  "SECUENCIA2"
    MINVALUE 1
    MAXVALUE 9999999999999999999999999999
    INCREMENT BY 1
    START WITH 1;
    
--DDL PARA LA DEFINICION DE UNA SECUENCIA    
CREATE SEQUENCE  "SECUENCIA3"
    MINVALUE 1
    MAXVALUE 9999999999999999999999999999
    INCREMENT BY 1
    START WITH 1;
    
--DDL PARA LA DEFINICION DE UNA SECUENCIA    
CREATE SEQUENCE  "SECUENCIA4"
    MINVALUE 1
    MAXVALUE 9999999999999999999999999999
    INCREMENT BY 1
    START WITH 1;
    
--DDL PARA LA DEFINICION DE UNA SECUENCIA    
CREATE SEQUENCE  "SECUENCIA5"
    MINVALUE 1
    MAXVALUE 9999999999999999999999999999
    INCREMENT BY 1
    START WITH 1;
    
    
//DML PARA LA INSERCION DE UN CLIENTE

INSERT INTO CLIENTES (ID_CLIENTE, NOMBRE, AP_PATERNO, AP_MATERNO,
LICENCIA, TELEFONO, FECHA_NACIMIENTO)
VALUES
(SEQUENCE1.NEXTVAL, 'JAVIER', 'TORRES', 'TIMAL', 'FR-1212', '222552255225',
TO_DATE('2020-10-10 13:00:00', 'YYYY-MM-DD HH24:mi:ss'));


//DML PARA LA INSERCION DE OTRO CLIENTE

INSERT INTO CLIENTES (ID_CLIENTE, NOMBRE, AP_PATERNO, AP_MATERNO,
LICENCIA, TELEFONO, FECHA_NACIMIENTO)
VALUES
(SEQUENCE1.NEXTVAL, 'DIARELY', 'MEDINA', 'ESPARZA', 'FR-1414', '222557878225',
TO_DATE('2020-12-10 13:00:00', 'YYYY-MM-DD HH24:mi:ss'));


SELECT * FROM CLIENTES


//DML PARA LA INSERCION UN AUTO
INSERT INTO AUTOS (ID_AUTO, MATRICULA, TIPO_AUTO, MODELO,
MARCA, CAPACIDAD, KILOMETRAJE, DISPONIBILIDAD)
VALUES
(SEQUENCE2.NEXTVAL,'AAA-123-A', 'CAMIONETA', 2021, 'CHEVROLET', 5,450.5, 1);

//DML PARA LA INSERCION DE OTRO AUTO
INSERT INTO AUTOS (ID_AUTO, MATRICULA, TIPO_AUTO, MODELO,
MARCA, CAPACIDAD, KILOMETRAJE, DISPONIBILIDAD)
VALUES
(SEQUENCE2.NEXTVAL,'BBB-123-A', 'AUTOMOVIL', 2021, 'MERCEDES', 3,500.5, 1);

SELECT * FROM AUTOS


//DML PARA LA INSERCION DE UNA SUCURSAL

INSERT INTO SUCURSALES (ID_SUCURSAL,CALLE, NUMERO, COLONIA,
CIUDAD, ESTADO, CP)
VALUES
(SEQUENCE3.NEXTVAL,'NORTE', ' 5', 'PALMAS 3', 'IXTAPALUCA','ESTADO DE MEXICO', '56613');


//DML PARA LA INSERCION DE UNA SUCURSAL

INSERT INTO SUCURSALES (ID_SUCURSAL,CALLE, NUMERO, COLONIA,
CIUDAD, ESTADO, CP)
VALUES
(SEQUENCE3.NEXTVAL,'PALMERA REAL', '10', 'MARIA ISABLE', 'CHALCO','CIUDAD DE MEXICO', '56618');

SELECT * FROM SUCURSALES



--DML PARA LA INSERCION DE UN CONTRATO
INSERT INTO CONTRATOS (ID_CONTRATO, CLIENTE_ID, AUTO_ID, SUCURSAL_ID, INICIO_CONTRATO, FIN_CONTRATO)
VALUES 
(SEQUENCE4.NEXTVAL,62,61,61, TO_DATE('2020-10-09 13:00:00', 'YYYY-MM-DD HH24:mi:ss'), TO_DATE('2020-10-12 14:10:00', 'YYYY-MM-DD HH24:mi:ss'));

--DML PARA LA INSERCION DE OTRO CONTRATO
INSERT INTO CONTRATOS (ID_CONTRATO, CLIENTE_ID, AUTO_ID, SUCURSAL_ID, INICIO_CONTRATO, FIN_CONTRATO)
VALUES 
(SEQUENCE4.NEXTVAL,63,62,62, TO_DATE('2020-09-09 12:00:00', 'YYYY-MM-DD HH24:mi:ss'), TO_DATE('2024-01-11 15:10:00', 'YYYY-MM-DD HH24:mi:ss'));


CREATE TABLE FACTURAS
(
    ID_FACTURA NUMBER NOT NULL,
    CONTRATO_ID NUMBER NOT NULL,
    FECHA_EMISION DATE,
    MONTO FLOAT,
    CONSTRAINT FACTURAS_PK PRIMARY KEY(ID_FACTURA),
    ---DEFINICION DE LAS LLAVES FORANEAS
    CONSTRAINT FACTURAS_CONTRATOS_FK FOREIGN KEY(CONTRATO_ID)
        REFERENCES CONTRATOS(ID_CONTRATO)
);

--DML PARA LA INSERCION DE UNA FACTURA
INSERT INTO FACTURAS (ID_FACTURA, CONTRATO_ID,FECHA_EMISION,MONTO )
VALUES 
(SEQUENCE5.NEXTVAL,61,TO_DATE('2024-09-09 10:40:00', 'YYYY-MM-DD HH24:mi:ss' ), 1500.050);

--DML PARA LA INSERCION DE OTRA FACTURA
INSERT INTO FACTURAS (ID_FACTURA, CONTRATO_ID,FECHA_EMISION,MONTO )
VALUES 
(SEQUENCE5.NEXTVAL,62,TO_DATE('2021-09-09 09:40:00', 'YYYY-MM-DD HH24:mi:ss' ), 2880.158);

SELECT * FROM CLIENTES
SELECT * FROM AUTOS
SELECT * FROM SUCURSALES
SELECT * FROM CONTRATOS
SELECT * FROM FACTURAS
